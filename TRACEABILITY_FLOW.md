# ğŸ”„ Flux de TraÃ§abilitÃ© - Diagramme Complet

## ğŸ“¦ Flux de CrÃ©ation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. CRÃ‰ATION DE LIVRAISON                                   â”‚
â”‚                                                              â”‚
â”‚  Utilisateur remplit le formulaire:                         â”‚
â”‚  â”œâ”€ Planteur                                                â”‚
â”‚  â”œâ”€ Date                                                    â”‚
â”‚  â”œâ”€ QuantitÃ©                                                â”‚
â”‚  â”œâ”€ Lieu de chargement                                      â”‚
â”‚  â”œâ”€ Lieu de dÃ©chargement                                    â”‚
â”‚  â””â”€ QualitÃ©                                                 â”‚
â”‚                                                              â”‚
â”‚  [CrÃ©er Livraison] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. BACKEND - CRÃ‰ATION LIVRAISON                            â”‚
â”‚                                                              â”‚
â”‚  delivery_service.create_delivery()                         â”‚
â”‚  â”œâ”€ Valider les donnÃ©es                                     â”‚
â”‚  â”œâ”€ CrÃ©er l'enregistrement Delivery                         â”‚
â”‚  â”œâ”€ Commit en base de donnÃ©es                               â”‚
â”‚  â””â”€ Appeler TraceabilityService â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. GÃ‰NÃ‰RATION TRAÃ‡ABILITÃ‰                                  â”‚
â”‚                                                              â”‚
â”‚  TraceabilityService.create_traceability_record()           â”‚
â”‚                                                              â”‚
â”‚  A. Obtenir le dernier bloc                                 â”‚
â”‚     â””â”€ block_number = last_block + 1                        â”‚
â”‚     â””â”€ previous_hash = last_block.hash                      â”‚
â”‚                                                              â”‚
â”‚  B. PrÃ©parer les donnÃ©es                                    â”‚
â”‚     trace_data = {                                          â”‚
â”‚       delivery_id, planter_name, date,                      â”‚
â”‚       quantity_kg, quality, locations...                    â”‚
â”‚     }                                                        â”‚
â”‚                                                              â”‚
â”‚  C. Calculer le hash blockchain                             â”‚
â”‚     blockchain_hash = SHA256({                              â”‚
â”‚       block_number,                                         â”‚
â”‚       previous_hash,                                        â”‚
â”‚       timestamp,                                            â”‚
â”‚       trace_data                                            â”‚
â”‚     })                                                       â”‚
â”‚                                                              â”‚
â”‚  D. GÃ©nÃ©rer le QR code                                      â”‚
â”‚     qr_code = "COCOA-{uuid}-{hash[:8]}"                     â”‚
â”‚     qr_image = generate_qr_image(qr_code)                   â”‚
â”‚                                                              â”‚
â”‚  E. CrÃ©er TraceabilityRecord                                â”‚
â”‚     â””â”€ Sauvegarder en base                                  â”‚
â”‚                                                              â”‚
â”‚  [TraÃ§abilitÃ© CrÃ©Ã©e] âœ…                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“± Flux de Scan

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. UTILISATEUR SCANNE                                      â”‚
â”‚                                                              â”‚
â”‚  Option A: CamÃ©ra                                           â”‚
â”‚  â”œâ”€ Ouvrir TraÃ§abilitÃ© > Scanner                           â”‚
â”‚  â”œâ”€ Autoriser la camÃ©ra                                     â”‚
â”‚  â”œâ”€ Pointer vers le QR code                                 â”‚
â”‚  â””â”€ Scan automatique â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚                                           â”‚                 â”‚
â”‚  Option B: Saisie Manuelle                â”‚                 â”‚
â”‚  â”œâ”€ Entrer le code: COCOA-xxxxx-xxxxx     â”‚                 â”‚
â”‚  â””â”€ Cliquer [VÃ©rifier] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. VÃ‰RIFICATION BACKEND                                    â”‚
â”‚                                                              â”‚
â”‚  GET /traceability/verify/{qr_code}                         â”‚
â”‚                                                              â”‚
â”‚  A. Rechercher le QR code                                   â”‚
â”‚     record = db.query(TraceabilityRecord)                   â”‚
â”‚              .filter(qr_code == qr_code)                    â”‚
â”‚                                                              â”‚
â”‚  B. Recalculer le hash                                      â”‚
â”‚     calculated_hash = SHA256(                               â”‚
â”‚       record.trace_data,                                    â”‚
â”‚       record.previous_hash,                                 â”‚
â”‚       record.block_number                                   â”‚
â”‚     )                                                        â”‚
â”‚                                                              â”‚
â”‚  C. VÃ©rifier l'intÃ©gritÃ©                                    â”‚
â”‚     is_valid = (calculated_hash == record.blockchain_hash)  â”‚
â”‚                                                              â”‚
â”‚  D. Retourner le rÃ©sultat                                   â”‚
â”‚     {                                                        â”‚
â”‚       is_valid: true/false,                                 â”‚
â”‚       message: "Authentique" / "AltÃ©rÃ©",                    â”‚
â”‚       blockchain_hash: "...",                               â”‚
â”‚       trace_data: {...},                                    â”‚
â”‚       scans_count: 5                                        â”‚
â”‚     }                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. AFFICHAGE RÃ‰SULTAT                                      â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  âœ“ Livraison Authentique et VÃ©rifiÃ©e           â”‚        â”‚
â”‚  â”‚                                                 â”‚        â”‚
â”‚  â”‚  ğŸ”— Informations Blockchain                    â”‚        â”‚
â”‚  â”‚  Hash: abc123...                                â”‚        â”‚
â”‚  â”‚  Bloc: #42                                      â”‚        â”‚
â”‚  â”‚  Scans: 5                                       â”‚        â”‚
â”‚  â”‚                                                 â”‚        â”‚
â”‚  â”‚  ğŸ“¦ Informations de Livraison                  â”‚        â”‚
â”‚  â”‚  Planteur: Jean Dupont                          â”‚        â”‚
â”‚  â”‚  Date: 01/12/2025                               â”‚        â”‚
â”‚  â”‚  QuantitÃ©: 100 kg                               â”‚        â”‚
â”‚  â”‚  QualitÃ©: Grade 1                               â”‚        â”‚
â”‚  â”‚                                                 â”‚        â”‚
â”‚  â”‚  [ğŸ“… Timeline] [ğŸ“¥ QR Code] [ğŸ“ Scan]         â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ Flux d'Enregistrement de Scan

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. UTILISATEUR CLIQUE "ENREGISTRER UN SCAN"                â”‚
â”‚                                                              â”‚
â”‚  Formulaire s'affiche:                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  ScannÃ© par: [Jean Dupont]                     â”‚        â”‚
â”‚  â”‚  Type: [VÃ©rification â–¼]                        â”‚        â”‚
â”‚  â”‚  Lieu: [EntrepÃ´t A]                            â”‚        â”‚
â”‚  â”‚  Notes: [ContrÃ´le qualitÃ© OK]                  â”‚        â”‚
â”‚  â”‚  â˜‘ Utiliser ma position actuelle               â”‚        â”‚
â”‚  â”‚                                                 â”‚        â”‚
â”‚  â”‚  [Annuler] [Enregistrer]                       â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                              â”‚
â”‚  [Enregistrer] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. GÃ‰OLOCALISATION (optionnel)                             â”‚
â”‚                                                              â”‚
â”‚  if (useGeolocation) {                                      â”‚
â”‚    navigator.geolocation.getCurrentPosition()               â”‚
â”‚    â”œâ”€ latitude: "5.3600"                                    â”‚
â”‚    â””â”€ longitude: "-4.0083"                                  â”‚
â”‚  }                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. ENREGISTREMENT BACKEND                                  â”‚
â”‚                                                              â”‚
â”‚  POST /traceability/scan/{qr_code}                          â”‚
â”‚  {                                                           â”‚
â”‚    scanned_by: "Jean Dupont",                               â”‚
â”‚    scan_type: "verification",                               â”‚
â”‚    scan_location: "EntrepÃ´t A",                             â”‚
â”‚    notes: "ContrÃ´le qualitÃ© OK",                            â”‚
â”‚    latitude: "5.3600",                                      â”‚
â”‚    longitude: "-4.0083"                                     â”‚
â”‚  }                                                           â”‚
â”‚                                                              â”‚
â”‚  A. Trouver le TraceabilityRecord                           â”‚
â”‚  B. CrÃ©er TraceabilityScan                                  â”‚
â”‚  C. Sauvegarder en base                                     â”‚
â”‚  D. Retourner le scan crÃ©Ã©                                  â”‚
â”‚                                                              â”‚
â”‚  [Scan EnregistrÃ©] âœ…                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“… Flux de Timeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. UTILISATEUR CLIQUE "VOIR LA TIMELINE"                   â”‚
â”‚                                                              â”‚
â”‚  GET /traceability/timeline/{delivery_id}                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. BACKEND CONSTRUIT LA TIMELINE                           â”‚
â”‚                                                              â”‚
â”‚  A. RÃ©cupÃ©rer TraceabilityRecord                            â”‚
â”‚  B. RÃ©cupÃ©rer tous les TraceabilityScans                    â”‚
â”‚  C. Construire la timeline:                                 â”‚
â”‚                                                              â”‚
â”‚     timeline = [                                            â”‚
â”‚       {                                                      â”‚
â”‚         type: "creation",                                   â”‚
â”‚         title: "Livraison crÃ©Ã©e",                           â”‚
â”‚         timestamp: "2025-12-01T10:00:00",                   â”‚
â”‚         data: {...}                                         â”‚
â”‚       },                                                     â”‚
â”‚       {                                                      â”‚
â”‚         type: "scan",                                       â”‚
â”‚         title: "Scan: verification",                        â”‚
â”‚         timestamp: "2025-12-01T14:30:00",                   â”‚
â”‚         scanned_by: "Jean Dupont",                          â”‚
â”‚         location: "EntrepÃ´t A"                              â”‚
â”‚       },                                                     â”‚
â”‚       ...                                                    â”‚
â”‚     ]                                                        â”‚
â”‚                                                              â”‚
â”‚  D. Retourner la timeline                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. AFFICHAGE TIMELINE                                      â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Timeline de la livraison                       â”‚        â”‚
â”‚  â”‚  QR: COCOA-xxxxx-xxxxx  Bloc: #42  Scans: 3   â”‚        â”‚
â”‚  â”‚                                                 â”‚        â”‚
â”‚  â”‚  â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚        â”‚
â”‚  â”‚  â”‚ 1  Livraison crÃ©Ã©e                          â”‚        â”‚
â”‚  â”‚  â”‚    01/12/2025 10:00                         â”‚        â”‚
â”‚  â”‚  â”‚    EnregistrÃ©e dans la blockchain           â”‚        â”‚
â”‚  â”‚  â”‚                                             â”‚        â”‚
â”‚  â”‚  â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚        â”‚
â”‚  â”‚  â”‚ 2  Scan: verification                       â”‚        â”‚
â”‚  â”‚  â”‚    01/12/2025 14:30                         â”‚        â”‚
â”‚  â”‚  â”‚    ScannÃ© par Jean Dupont                   â”‚        â”‚
â”‚  â”‚  â”‚    ğŸ“ EntrepÃ´t A                            â”‚        â”‚
â”‚  â”‚  â”‚                                             â”‚        â”‚
â”‚  â”‚  â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚        â”‚
â”‚  â”‚  â”‚ 3  Scan: transfer                           â”‚        â”‚
â”‚  â”‚  â”‚    02/12/2025 08:15                         â”‚        â”‚
â”‚  â”‚  â”‚    ScannÃ© par Marie Martin                  â”‚        â”‚
â”‚  â”‚  â”‚    ğŸ“ Port d'Abidjan                        â”‚        â”‚
â”‚  â”‚  â”‚                                             â”‚        â”‚
â”‚  â”‚  â—                                              â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” Flux de VÃ©rification Blockchain

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. ADMIN CLIQUE "VÃ‰RIFIER L'INTÃ‰GRITÃ‰"                     â”‚
â”‚                                                              â”‚
â”‚  GET /traceability/blockchain/verify                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. VÃ‰RIFICATION COMPLÃˆTE                                   â”‚
â”‚                                                              â”‚
â”‚  BlockchainService.verify_chain()                           â”‚
â”‚                                                              â”‚
â”‚  Pour chaque bloc dans l'ordre:                             â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚  Bloc #1                              â”‚                  â”‚
â”‚  â”‚  â”œâ”€ Recalculer le hash                â”‚                  â”‚
â”‚  â”‚  â”œâ”€ Comparer avec hash stockÃ©         â”‚                  â”‚
â”‚  â”‚  â””â”€ VÃ©rifier previous_hash = null     â”‚                  â”‚
â”‚  â”‚     âœ… Valide                         â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚           â”‚                                                  â”‚
â”‚           â–¼                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚  Bloc #2                              â”‚                  â”‚
â”‚  â”‚  â”œâ”€ Recalculer le hash                â”‚                  â”‚
â”‚  â”‚  â”œâ”€ Comparer avec hash stockÃ©         â”‚                  â”‚
â”‚  â”‚  â””â”€ VÃ©rifier previous_hash = Bloc#1   â”‚                  â”‚
â”‚  â”‚     âœ… Valide                         â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚           â”‚                                                  â”‚
â”‚           â–¼                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚  Bloc #3                              â”‚                  â”‚
â”‚  â”‚  â”œâ”€ Recalculer le hash                â”‚                  â”‚
â”‚  â”‚  â”œâ”€ Comparer avec hash stockÃ©         â”‚                  â”‚
â”‚  â”‚  â””â”€ VÃ©rifier previous_hash = Bloc#2   â”‚                  â”‚
â”‚  â”‚     âœ… Valide                         â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚           â”‚                                                  â”‚
â”‚           â–¼                                                  â”‚
â”‚  RÃ©sultat: âœ… Blockchain IntÃ¨gre                            â”‚
â”‚  Total: 3 blocs vÃ©rifiÃ©s                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. AFFICHAGE RÃ‰SULTAT                                      â”‚
â”‚                                                              â”‚
â”‚  Toast: âœ“ Blockchain intÃ¨gre (3 blocs)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Flux de Statistiques

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. UTILISATEUR CLIQUE "STATISTIQUES BLOCKCHAIN"            â”‚
â”‚                                                              â”‚
â”‚  GET /traceability/stats                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. CALCUL DES STATISTIQUES                                 â”‚
â”‚                                                              â”‚
â”‚  A. Compter les livraisons tracÃ©es                          â”‚
â”‚     total_records = COUNT(traceability_records)             â”‚
â”‚                                                              â”‚
â”‚  B. Compter les scans                                       â”‚
â”‚     total_scans = COUNT(traceability_scans)                 â”‚
â”‚                                                              â”‚
â”‚  C. Calculer la moyenne                                     â”‚
â”‚     avg_scans = total_scans / total_records                 â”‚
â”‚                                                              â”‚
â”‚  D. VÃ©rifier la blockchain                                  â”‚
â”‚     blockchain_valid = verify_chain()                       â”‚
â”‚                                                              â”‚
â”‚  E. Retourner les stats                                     â”‚
â”‚     {                                                        â”‚
â”‚       total_deliveries_tracked: 150,                        â”‚
â”‚       total_scans: 450,                                     â”‚
â”‚       average_scans_per_delivery: 3.0,                      â”‚
â”‚       blockchain_valid: true                                â”‚
â”‚     }                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. AFFICHAGE MODAL                                         â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  ğŸ“Š Statistiques Blockchain                    â”‚        â”‚
â”‚  â”‚                                                 â”‚        â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚        â”‚
â”‚  â”‚  â”‚   150    â”‚  â”‚   450    â”‚  â”‚   3.0    â”‚    â”‚        â”‚
â”‚  â”‚  â”‚Livraisonsâ”‚  â”‚  Scans   â”‚  â”‚ Scans/   â”‚    â”‚        â”‚
â”‚  â”‚  â”‚ tracÃ©es  â”‚  â”‚  totaux  â”‚  â”‚livraison â”‚    â”‚        â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚        â”‚
â”‚  â”‚                                                 â”‚        â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚        â”‚
â”‚  â”‚  â”‚    âœ“     â”‚                                  â”‚        â”‚
â”‚  â”‚  â”‚Blockchainâ”‚                                  â”‚        â”‚
â”‚  â”‚  â”‚ IntÃ¨gre  â”‚                                  â”‚        â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚        â”‚
â”‚  â”‚                                                 â”‚        â”‚
â”‚  â”‚              [Fermer]                           â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ RÃ©sumÃ© des Flux

| Flux | DÃ©clencheur | Backend | RÃ©sultat |
|------|-------------|---------|----------|
| **CrÃ©ation** | Nouvelle livraison | GÃ©nÃ©ration auto | QR + Blockchain |
| **Scan** | Scanner QR | VÃ©rification | Infos + Statut |
| **Enregistrement** | Bouton "Scan" | CrÃ©ation scan | Historique |
| **Timeline** | Bouton "Timeline" | AgrÃ©gation | Chronologie |
| **VÃ©rification** | Bouton "VÃ©rifier" | Parcours chaÃ®ne | IntÃ©gritÃ© |
| **Statistiques** | Bouton "Stats" | Calculs | MÃ©triques |

---

**Tous les flux sont implÃ©mentÃ©s et fonctionnels! âœ…**
